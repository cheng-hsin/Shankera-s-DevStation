---
title: 'Dockerfile 和 Docker-compose 的差別'
date: 2023-01-21
lastmod: '2023-01-16'
tags: ['dockerfile', 'docker-compose']
draft: false
summary: '常常搞不清楚 Dockerfile 和 Docker-compose，這篇文章就是要來解釋一下它們的差別。'
layout: PostSimple
bibliography: references-data.bib
canonicalUrl: https://tailwind-nextjs-starter-blog.vercel.app/blog/new-features-in-v1/
---

> 每次看到 Dockerfile 和 Docker-compose 的時候，都會重新想一遍這兩個東西分別是在做什麼的，所以決定紀錄一下它們的 difference。

## Dockerfile

想要把一個專案打包起來這個動作，就等於要產生一個 Docker Image，想產生一個 Docker Image，我們就是需要一個 Dockerfile，因為 Dockerfile 就是為了生成一個 image 用的。
有了 Dockerfile，我們就可以把專案打包起來變成 Image，並且把它放到 Docker Hub 上面，讓其他人可以使用。
有了 Image ，Image 就可以生成 Container，而且是可以生成多個 Container。

可以把 Dockerfile 當作是一個腳本，腳本裡面會有一些指令，這些指令就是用來生成 Image 的。
Image 和 Container 的關係就像是光碟和電腦一樣，光碟是用來安裝電腦的，而且一張光碟可以安裝多台電腦。

## Docker-compose

那麼 Docker-compose 是要幹嘛的呢？簡單來說就是用來管理 Container 的一個腳本。

定義 Container 與 Container 之間的關係，例如：

- 哪個容器依賴於哪個容器
- 哪個容器需要連接哪個容器
- 哪些容器需要共用同一個 Volume

多個容器的配置，例如：

- Container 的名稱
- Image 名稱
- 環境變量
- 網絡連接
- Volume

## 總結

Dockerfile 是用來生成一個 Image，而 Image 是用來生成 Container 的，Docker-compose 是用來管理 Container 的。
